Monday 2025-06-16 14h12 utc+1
Board: Arduino Uno R4 WiFi
Attached via Qwiic: Pimoroni BME280 Breakout sensor.
IDE: Arduino v2.3.5

Sketch: Uno_WiFi_R4_MQTT_test.ino

Serial Output:


---------------------------------
After some changes on: 2025-06-18 around 19h35 utc +1

18:47:05.917 -> Connected to SSID: Vodafone-_________
18:47:05.917 -> IP Address: 192.168._.__
18:47:05.957 -> signal strength (RSSI):-40 dBm
18:47:05.957 -> 
18:47:05.957 -> Timezone offset = 1 hour(s)
18:47:05.957 -> Starting connection to NTP server...
18:47:06.095 -> 
18:47:06.095 -> Attempting to connect to the MQTT broker: 5.196.78.28:1883
18:47:07.387 -> You're connected to the MQTT broker!
18:47:07.387 -> 
18:47:07.387 -> board ID = "UnoR4W"
18:47:07.387 -> MQTT message send interval = 1 minute.
18:47:07.387 -> 
18:47:07.434 -> Update from NTP Server
18:47:07.481 -> NTP Unix time = 1750272428
18:47:07.481 -> The RTC was just set to: 2025-06-18T18:47:08
18:47:07.526 -> msg topic sent: sensors/UnoR4W/ambient, payload: {Temperature:28.65,Pressure:1005.16,Altitude:67.59,Humidity:47.66}

[...]
18:19:35.046 -> Update from NTP Server
18:19:35.124 -> NTP Unix time = 1750270775
18:19:35.124 -> The RTC was just set to: 2025-06-18T18:19:35
18:19:35.292 -> msg topic sent: sensors/UnoR4W/ambient, payload: {Temperature:28.63,Pressure:1005.30,Altitude:66.37,Humidity:47.88}
18:20:35.392 -> msg topic sent: sensors/UnoR4W/ambient, payload: {Temperature:28.57,Pressure:1005.33,Altitude:66.19,Humidity:47.76}
18:21:35.484 -> msg topic sent: sensors/UnoR4W/ambient, payload: {Temperature:28.64,Pressure:1005.34,Altitude:66.08,Humidity:47.65}
18:22:35.555 -> msg topic sent: sensors/UnoR4W/ambient, payload: {Temperature:28.63,Pressure:1005.34,Altitude:66.06,Humidity:47.38}
18:23:35.666 -> msg topic sent: sensors/UnoR4W/ambient, payload: {Temperature:28.55,Pressure:1005.33,Altitude:66.17,Humidity:47.54}
18:24:35.696 -> msg topic sent: sensors/UnoR4W/ambient, payload: {Temperature:28.53,Pressure:1005.34,Altitude:66.10,Humidity:47.60}

------------------------------
After adding a datetime at the end of the payload string:
The RTC was just set to: 2025-06-18T19:47:05
19:47:04.725 -> msg topic sent: sensors/UnoR4W/ambient, payload: {Temperature:28.36,Pressure:1006.28,Altitude:58.17,Humidity:47.36,datetime:2025-06-18T19:47:05}
19:48:04.750 -> msg topic sent: sensors/UnoR4W/ambient, payload: {Temperature:28.41,Pressure:1006.24,Altitude:58.52,Humidity:46.41,datetime:2025-06-18T19:48:06}

---------------------------------
Wednesday 2025-06-18 18h18 utc +1
Board: Pimoroni Presto
IDE: Thonny
Script from: "https://github.com/digitalurban/Presto_MQTT_Display/blob/main/mqtt_presto.py

Changes by @PaulskPt 

Shell output:

Connecting to WiFi...
WiFi connected.
Connecting to MQTT broker at 5.196.78.28 on port 1883...
Successfully connected to MQTT broker.
Subscribed to topic: "sensors/UnoR4W/ambient/#"
Received message on topic sensors/UnoR4W/ambient, msg: {Temperature:28.63,Pressure:1005.30,Altitude:66.37,Humidity:47.88}
json_string = "{Temperature:28.63,Pressure:1005.30,Altitude:66.37,Humidity:47.88}"
split_msg(): split_string = ['"{Temperature:28.63', 'Pressure:1005.30', 'Altitude:66.37', 'Humidity:47.88}"']
temp = Temperature = 28.63
pres = Pressure = 1005.30
alti = Altitude = 66.37
humi = Humidity = 47.88
Message nr 1 received
Received message on topic sensors/UnoR4W/ambient, msg: {Temperature:28.51,Pressure:1005.34,Altitude:66.09,Humidity:47.29}
json_string = "{Temperature:28.51,Pressure:1005.34,Altitude:66.09,Humidity:47.29}"
split_msg(): split_string = ['"{Temperature:28.51', 'Pressure:1005.34', 'Altitude:66.09', 'Humidity:47.29}"']
temp = Temperature = 28.51
pres = Pressure = 1005.34
alti = Altitude = 66.09
humi = Humidity = 47.29
Message nr 2 received
Received message on topic sensors/UnoR4W/ambient, msg: {Temperature:28.60,Pressure:1005.29,Altitude:66.52,Humidity:48.38}
json_string = "{Temperature:28.60,Pressure:1005.29,Altitude:66.52,Humidity:48.38}"
split_msg(): split_string = ['"{Temperature:28.60', 'Pressure:1005.29', 'Altitude:66.52', 'Humidity:48.38}"']
temp = Temperature = 28.60
pres = Pressure = 1005.29
alti = Altitude = 66.52
humi = Humidity = 48.38
Message nr 3 received
Received message on topic sensors/UnoR4W/ambient, msg: {Temperature:28.64,Pressure:1005.28,Altitude:66.53,Humidity:47.67}
json_string = "{Temperature:28.64,Pressure:1005.28,Altitude:66.53,Humidity:47.67}"
split_msg(): split_string = ['"{Temperature:28.64', 'Pressure:1005.28', 'Altitude:66.53', 'Humidity:47.67}"']
temp = Temperature = 28.64
pres = Pressure = 1005.28
alti = Altitude = 66.53
humi = Humidity = 47.67
Message nr 4 received
Received message on topic sensors/UnoR4W/ambient, msg: {Temperature:28.57,Pressure:1005.25,Altitude:66.79,Humidity:47.42}
json_string = "{Temperature:28.57,Pressure:1005.25,Altitude:66.79,Humidity:47.42}"
split_msg(): split_string = ['"{Temperature:28.57', 'Pressure:1005.25', 'Altitude:66.79', 'Humidity:47.42}"']
temp = Temperature = 28.57
pres = Pressure = 1005.25
alti = Altitude = 66.79
humi = Humidity = 47.42
Message nr 5 received

----------------------------------------
18h36, after minor changes in draw() and in split_msg():

>>> %Run -c $EDITOR_CONTENT

Connecting to WiFi...
WiFi connected.
Connecting to MQTT broker at 5.196.78.28 on port 1883...
Successfully connected to MQTT broker.
Subscribed to topic: "sensors/UnoR4W/ambient/#"
Received message on topic sensors/UnoR4W/ambient, msg: {Temperature:28.71,Pressure:1005.19,Altitude:67.31,Humidity:47.45}
temp = Temperature = 28.71 째C
pres = Pressure = 1005.19 hPa
alti = Altitude = 67.31 m
humi = Humidity = 47.45 %rH
Message nr 1 received

--------------------------------------------------
After adding the extracting and slicing the from the publisher received datetime and from that extracted time:
PY: soft reboot
Connecting to WiFi...
WiFi connected.
Connecting to MQTT broker at 5.196.78.28 on port 1883...
Successfully connected to MQTT broker.
Subscribed to topic: "sensors/UnoR4W/ambient/#"
Received message on topic sensors/UnoR4W/ambient, msg: {Temperature:28.21,Pressure:1006.16,Altitude:59.23,Humidity:47.47,datetime:2025-06-18T20:02:04}
temp = Temperature = 28.21 째C
pres = Pressure = 1006.16 hPa
alti = Altitude = 59.23 m
humi = Humidity = 47.47 %rH
publisher_datetime = datetime = 2025-06-18T20:02:04 <<<=== new
publisher_time = 20:02:04     <<<=== new
Message nr 1 received

[...]

Received message on topic sensors/UnoR4W/ambient, msg: {Temperature:27.31,Pressure:1005.42,Altitude:65.36,Humidity:46.77,datetime:2025-06-18T21:51:19}
temp = Temperature = 27.31 째C
pres = Pressure = 1005.42 hPa
alti = Altitude = 65.36 m
humi = Humidity = 46.77 %rH
publisher_datetime = datetime = 2025-06-18T21:51:19
publisher_time = 21:51:19
Message nr 89 received
Received message on topic sensors/UnoR4W/ambient, msg: {Temperature:27.36,Pressure:1005.36,Altitude:65.90,Humidity:46.89,datetime:2025-06-18T21:52:20}
temp = Temperature = 27.36 째C
pres = Pressure = 1005.36 hPa
alti = Altitude = 65.90 m
humi = Humidity = 46.89 %rH
publisher_datetime = datetime = 2025-06-18T21:52:20
publisher_time = 21:52:20
Message nr 90 received
